import{r as l,R as s,a as N}from"./vendor.9e835d6b.js";const B=function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const e of o)if(e.type==="childList")for(const a of e.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const e={};return o.integrity&&(e.integrity=o.integrity),o.referrerpolicy&&(e.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?e.credentials="include":o.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(o){if(o.ep)return;o.ep=!0;const e=n(o);fetch(o.href,e)}};B();function I(){const t=l.exports.useRef(),[c,n]=l.exports.useState(!1);return[t,c,()=>{t.current=void 0,n(!1)},()=>n(!0)]}const S=l.exports.createContext({}),$=S.Provider;function m(){return l.exports.useContext(S)}function F(t,c,n,r,o,e){t.fillStyle=c,t.beginPath(),t.arc(r,o,n/2,0,2*Math.PI,!0),t.closePath(),t.fill(),e&&(t.beginPath(),t.strokeStyle=c,t.lineWidth=n,t.moveTo(e.x,e.y),t.lineTo(r,o),t.closePath(),t.stroke())}function x(t,c,n,r,o,e){t.fillStyle=c,t.beginPath(),t.fillRect(r-n/2,o-n/2,n,n),e&&(e.x>r&&o>e.y||r>e.x&&e.y>o?(t.moveTo(e.x+n/2,e.y+n/2),t.lineTo(r+n/2,o+n/2),t.lineTo(r-n/2,o-n/2),t.lineTo(e.x-n/2,e.y-n/2)):(t.moveTo(e.x-n/2,e.y+n/2),t.lineTo(r-n/2,o+n/2),t.lineTo(r+n/2,o-n/2),t.lineTo(e.x+n/2,e.y-n/2))),t.closePath(),t.fill()}function U(t,c,n,r,o){const e=8+2*Math.floor(Math.random()*5);t.fillStyle=c,t.beginPath(),t.moveTo(r+n,o);for(let a=1;a<e;a++){const u=2*Math.PI*(a/e),d=a%2?n/3:n,f=r+d*Math.cos(u),y=o-d*Math.sin(u);t.lineTo(f,y)}t.closePath(),t.fill()}const k={circle:F,rect:x,star:U},j="_container_zdyet_1",A="_canvas_zdyet_5";var L={container:j,canvas:A};function P(t,c){const n=l.exports.useRef([]),r=l.exports.useRef(t);function o(e){const a=[...n.current,r.current];a.length>=10&&a.shift(),n.current=a,r.current=e}return l.exports.useEffect(()=>{function e(a){if(a.code==="KeyZ"&&a.ctrlKey){const u=n.current.pop();u&&(r.current=u,c(u))}}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),o}function O(){var T;const t=["canvas-component","drawing-component",L.container].join(" "),{width:c,height:n,color:r,size:o,canvasRef:e,brushType:a}=m(),[u,d,f,y]=I(),_=P((T=e.current)==null?void 0:T.toDataURL(),i=>{if(i){const p=new Image;p.onload=()=>{var h,g,v,w;(g=(h=e.current)==null?void 0:h.getContext("2d"))==null||g.clearRect(0,0,c,n),(w=(v=e.current)==null?void 0:v.getContext("2d"))==null||w.drawImage(p,0,0)},p.src=i}});l.exports.useEffect(()=>{var i;_((i=e.current)==null?void 0:i.toDataURL())},[]);function b(i){const p=e.current;if(!p)return;const{left:h,top:g,width:v,height:w}=p.getBoundingClientRect(),M=(i.clientX-h)*(c/v),R=(i.clientY-g)*(n/w),D=p.getContext("2d");D&&(k[a](D,r,o,M,R,u.current),u.current={x:M,y:R})}return s.createElement("div",{className:t},s.createElement("canvas",{width:c,height:n,ref:e,className:L.canvas,onMouseUp:()=>{f(),e.current&&_(e.current.toDataURL())},onMouseDown:i=>{y(),b(i)},onMouseMove:i=>d&&b(i),onMouseLeave:()=>u.current=void 0}))}function H(t,c=500){const[n,r]=l.exports.useState(t),[o,e]=l.exports.useState(t);return l.exports.useEffect(()=>{const a=setTimeout(()=>{e(n)},c);return()=>clearTimeout(a)},[n,c]),[o,n!==o,r]}function K(t=[]){const[c,n,r]=H(t,750);function o(a){r([...c,a])}function e(a){c.length>1&&r(c.filter(u=>u!==a))}return[c,n,o,e]}const V="_container_1oy0n_1",q="_selected_1oy0n_18",W="_adderButton_1oy0n_1";var E={container:V,selected:q,adderButton:W};function X({color:t,pop:c}){const{color:n,setColor:r}=m(),o=n===t;function e(a){a.preventDefault(),o&&r("#0000"),c(t)}return s.createElement("button",{style:{"--button-color":t},className:o?E.selected:void 0,onClick:()=>r(t),onContextMenu:e})}function Y({updating:t,push:c}){const n=l.exports.useRef(null),{setColor:r}=m();function o(e){r(e),c(e)}return s.createElement(s.Fragment,null,s.createElement("button",{id:E.adderButton,onClick:()=>{var e;return(e=n.current)==null?void 0:e.click()},disabled:t}),s.createElement("input",{ref:n,type:"color",onChange:e=>o(e.target.value)}))}function Z(){const[t,c,n,r]=K(["#000000","#FFFFFF"]),o=["colorpalette-component","drawing-component",E.container].join(" ");return s.createElement("div",{className:o},t.map((e,a)=>s.createElement(X,{key:a,color:e,pop:r})),s.createElement(Y,{updating:c,push:n}))}const G="_container_pdh5b_1";var J={container:G};function Q(){const t=["sizecontrol-component","drawing-component",J.container].join(" "),{size:c,setSize:n}=m();return s.createElement("div",{className:t},s.createElement("input",{type:"range",min:"5",max:"50",defaultValue:"20",onChange:r=>n(+r.target.value)}),s.createElement("p",null,"Size: ",c))}const z="_container_6v6kk_1";var ee={container:z};function te(){const{width:t,height:c,canvasRef:n,drawingTitle:r}=m(),o=["actionpanel-component",ee.container].join(" ");function e(){var d;const u=(d=n.current)==null?void 0:d.getContext("2d");u&&u.clearRect(0,0,t,c)}function a(){const u=n.current;if(u){const d=u.toDataURL(),f=document.createElement("a");f.href=d,f.download=r.current+".png",f.click()}}return s.createElement("div",{className:o},s.createElement("button",{className:"drawing-component",onClick:e},"Clear"),s.createElement("button",{className:"drawing-component",onClick:a},"Download"))}const ne="_container_14tq2_1";var oe={container:ne};const C=Object.keys(k);function re(){const{setBrushType:t}=m(),[c,n]=l.exports.useState(0),r=C[c];function o(){const e=(c+1)%C.length;t(C[e]),n(e)}return s.createElement("div",{className:`brushpalette-component ${oe.container}`},s.createElement("button",{className:"drawing-component",onClick:o},r))}const ce="_container_11pdv_1";var ae={container:ce};function se(){const{drawingTitle:t}=m(),c=["drawing-component","titleholder-component",ae.container].join(" ");function n(r){t.current=r.target.value}return s.createElement("div",{className:c},s.createElement("input",{type:"text",onChange:n,defaultValue:t.current}))}function ue(){const[t,c]=l.exports.useState("#000000"),[n,r]=l.exports.useState(20),o=l.exports.useRef(null),e=l.exports.useRef("drawing-app"),[a,u]=l.exports.useState("circle");return s.createElement($,{value:{width:750,height:500,color:t,setColor:c,size:n,setSize:r,canvasRef:o,brushType:a,setBrushType:u,drawingTitle:e}},s.createElement(se,null),s.createElement(Z,null),s.createElement(O,null),s.createElement(Q,null),s.createElement(te,null),s.createElement(re,null))}N.render(s.createElement(s.StrictMode,null,s.createElement(ue,null)),document.getElementById("root"));
